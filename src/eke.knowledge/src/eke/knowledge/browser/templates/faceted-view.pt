<tal:left define="hidden python:request.set('disable_plone.leftcolumn', view.hide_left_column)" />
<tal:right define="hidden python:request.set('disable_plone.rightcolumn', view.hide_right_column)" />

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
  lang="en-US"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="eea">

<metal:topslot fill-slot='top_slot'>
  <!-- In future we might put http-equiv for content-security-policy or something in here -->
  <!-- <meta http-equiv="Content-Security-Policy" content="frame-src 'self' *.jpl.nasa.gov; connect-src 'self' *.jpl.nasa.gov; child-src 'self' *.jpl.nasa.gov;"/> -->
</metal:topslot>

<metal:jsslot fill-slot="javascript_head_slot">
  <script type="text/javascript"
    tal:content="string:jQuery(document).ready(function(evt){
        Faceted.Load(evt, '${context/absolute_url}/');
    });"></script>
  <script type="text/javascript"
    tal:content="string:jQuery(window).on('unload', function(){
        Faceted.Unload();
    });"></script>

  <!-- Maybe for some future use -->

  <!--
  <script type='text/javascript' src='#'
    tal:define='navroot context/@@plone_portal_state/navigation_root_url'
    tal:attributes='src string:${navroot}/++resource++eke.knowledge/graphics.js'></script>
  <script type='text/javascript' src='#'
    tal:define='navroot context/@@plone_portal_state/navigation_root_url'
    tal:attributes='src string:${navroot}/++resource++eke.knowledge/plotly-1.16.3.min.js'></script>
  -->
</metal:jsslot>

<metal:styleslot fill-slot='style_slot'>
  <link rel='stylesheet' href='#'
    tal:define='navroot context/@@plone_portal_state/navigation_root_url'
    tal:attributes='href string:${navroot}/++resource++eke.knowledge/extra-faceted-styles.css'></link>
</metal:styleslot>

<body>

<div metal:fill-slot="content-core">

<!-- Folder contents -->
<div class="faceted-form" metal:define-macro="widgets" id="faceted-form"
  tal:define="mode view/mode | string:view" tal:attributes="data-mode mode">

  <!-- Basic/Extended search -->
  <div class="faceted-sections-buttons">
    <a href="#" class="faceted-sections-buttons-more" i18n:translate="">More filters</a>
    <a href="#" class="faceted-sections-buttons-less" i18n:translate="">Less filters</a>
  </div>

  <metal:widgets use-macro="here/@@faceted_widgets_macros/macros/widgets" />

  <!-- Faceted version -->
  <div style="display: none" id="faceted-version"
    tal:content="here/@@faceted_version|string:" />

    <!-- Maybe for some future use -->
<!--     <script type='text/javascript'>
        tucker = document.getElementById('tuck');
        Plotly.newPlot(tucker, [{
            x: [1, 2, 3, 4, 5],
            y: [5, 10, 15, 30, 3]
        }], {
            margin: {t: 0},
        });
    </script>
 -->

</div>

</div>



</body>
</html>
